(()=>{"use strict";const e=window.React,s=window.wp.blocks,a=window.wp.i18n,t=window.wp.blockEditor,l=window.wp.components,c=[{value:"chart-line",label:(0,a.__)("Chart Line","expressanalytics")},{value:"chart-bar",label:(0,a.__)("Chart Bar","expressanalytics")},{value:"chart-pie",label:(0,a.__)("Chart Pie","expressanalytics")},{value:"analytics",label:(0,a.__)("Analytics","expressanalytics")},{value:"database",label:(0,a.__)("Database","expressanalytics")},{value:"cogs",label:(0,a.__)("Settings","expressanalytics")},{value:"users",label:(0,a.__)("Users","expressanalytics")},{value:"shield-alt",label:(0,a.__)("Security","expressanalytics")},{value:"code",label:(0,a.__)("Code","expressanalytics")},{value:"cloud",label:(0,a.__)("Cloud","expressanalytics")}];(0,s.registerBlockType)("expressanalytics/services",{edit:({attributes:s,setAttributes:r})=>{const{heading:i,description:n,services:o,columns:p,showIcons:m,backgroundColor:_,textColor:d,gradient:u}=s,v=(0,t.useBlockProps)({className:`wp-block-expressanalytics-services has-${_}-background-color has-${d}-color has-text-color has-background`,style:{backgroundColor:_,color:d,backgroundImage:u}}),y=(e,s,a)=>{const t=[...o];t[e]={...t[e],[s]:a},r({services:t})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:(0,a.__)("Layout Settings","expressanalytics")},(0,e.createElement)(l.RangeControl,{label:(0,a.__)("Columns","expressanalytics"),value:p,onChange:e=>r({columns:e}),min:1,max:4}),(0,e.createElement)(l.ToggleControl,{label:(0,a.__)("Show Icons","expressanalytics"),checked:m,onChange:e=>r({showIcons:e})}))),(0,e.createElement)("div",{...v},(0,e.createElement)("div",{className:"wp-block-expressanalytics-services__content"},(0,e.createElement)(t.RichText,{tagName:"h2",className:"wp-block-expressanalytics-services__heading",value:i,onChange:e=>r({heading:e}),placeholder:(0,a.__)("Add heading...","expressanalytics")}),(0,e.createElement)(t.RichText,{tagName:"p",className:"wp-block-expressanalytics-services__description",value:n,onChange:e=>r({description:e}),placeholder:(0,a.__)("Add description...","expressanalytics")}),(0,e.createElement)("div",{className:"wp-block-expressanalytics-services__grid",style:{gridTemplateColumns:`repeat(${p}, 1fr)`}},o.map(((s,i)=>(0,e.createElement)("div",{key:i,className:"wp-block-expressanalytics-services__item"},(0,e.createElement)(l.Button,{className:"wp-block-expressanalytics-services__remove-button",onClick:()=>(e=>{const s=o.filter(((s,a)=>a!==e));r({services:s})})(i),isDestructive:!0,isSmall:!0},(0,a.__)("Remove Service","expressanalytics")),m&&(0,e.createElement)(l.SelectControl,{value:s.icon,options:c,onChange:e=>y(i,"icon",e)}),(0,e.createElement)(t.MediaUpload,{onSelect:e=>y(i,"image",e),allowedTypes:["image"],value:s.image?.id,render:({open:t})=>(0,e.createElement)(l.Button,{className:"wp-block-expressanalytics-services__image-button",onClick:t},s.image?(0,e.createElement)("img",{src:s.image.url,alt:s.image.alt}):(0,a.__)("Upload Image","expressanalytics"))}),(0,e.createElement)(t.RichText,{tagName:"h3",className:"wp-block-expressanalytics-services__item-title",value:s.title,onChange:e=>y(i,"title",e),placeholder:(0,a.__)("Add service title...","expressanalytics")}),(0,e.createElement)(t.RichText,{tagName:"p",className:"wp-block-expressanalytics-services__item-description",value:s.description,onChange:e=>y(i,"description",e),placeholder:(0,a.__)("Add service description...","expressanalytics")}),(0,e.createElement)("div",{className:"wp-block-expressanalytics-services__features"},s.features.map(((s,c)=>(0,e.createElement)("div",{key:c,className:"wp-block-expressanalytics-services__feature"},(0,e.createElement)(t.RichText,{tagName:"div",className:"wp-block-expressanalytics-services__feature-text",value:s,onChange:e=>((e,s,a)=>{const t=[...o];t[e].features[s]=a,r({services:t})})(i,c,e),placeholder:(0,a.__)("Add feature...","expressanalytics")}),(0,e.createElement)(l.Button,{onClick:()=>((e,s)=>{const a=[...o];a[e].features.splice(s,1),r({services:a})})(i,c),isDestructive:!0,isSmall:!0},(0,a.__)("Remove","expressanalytics"))))),(0,e.createElement)(l.Button,{onClick:()=>(e=>{const s=[...o];s[e].features.push(""),r({services:s})})(i),variant:"secondary",isSmall:!0},(0,a.__)("Add Feature","expressanalytics"))),(0,e.createElement)(t.URLInput,{className:"wp-block-expressanalytics-services__link-input",value:s.link,onChange:e=>y(i,"link",e)}))))),(0,e.createElement)(l.Button,{onClick:()=>{r({services:[...o,{title:"",description:"",icon:"chart-line",features:[""],image:null,link:"#"}]})},variant:"primary",className:"wp-block-expressanalytics-services__add-button"},(0,a.__)("Add Service","expressanalytics")))))},save:({attributes:s})=>{const{heading:l,description:c,services:r,columns:i,showIcons:n,backgroundColor:o,textColor:p,gradient:m}=s,_=t.useBlockProps.save({className:`wp-block-expressanalytics-services has-${o}-background-color has-${p}-color has-text-color has-background`,style:{backgroundColor:o,color:p,backgroundImage:m}});return(0,e.createElement)("div",{..._},(0,e.createElement)("div",{className:"wp-block-expressanalytics-services__content"},(0,e.createElement)(t.RichText.Content,{tagName:"h2",className:"wp-block-expressanalytics-services__heading",value:l}),(0,e.createElement)(t.RichText.Content,{tagName:"p",className:"wp-block-expressanalytics-services__description",value:c}),(0,e.createElement)("div",{className:"wp-block-expressanalytics-services__grid",style:{gridTemplateColumns:`repeat(${i}, 1fr)`}},r.map(((s,l)=>(0,e.createElement)("div",{key:l,className:"wp-block-expressanalytics-services__item"},n&&s.icon&&(0,e.createElement)("i",{className:`fas fa-${s.icon}`}),s.image&&(0,e.createElement)("img",{className:"wp-block-expressanalytics-services__image",src:s.image.url,alt:s.image.alt}),(0,e.createElement)(t.RichText.Content,{tagName:"h3",className:"wp-block-expressanalytics-services__item-title",value:s.title}),(0,e.createElement)(t.RichText.Content,{tagName:"p",className:"wp-block-expressanalytics-services__item-description",value:s.description}),(0,e.createElement)("ul",{className:"wp-block-expressanalytics-services__features"},s.features.map(((s,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)(t.RichText.Content,{value:s}))))),(0,e.createElement)("a",{href:s.link,className:"wp-block-expressanalytics-services__link"},(0,a.__)("Learn More","expressanalytics"))))))))}})})();