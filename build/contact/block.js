(()=>{"use strict";const e=window.React,a=window.wp.blocks,t=window.wp.i18n,c=window.wp.blockEditor,s=window.wp.components;(0,a.registerBlockType)("expressanalytics/contact",{edit:({attributes:a,setAttributes:l})=>{const{heading:n,description:o,contactInfo:r,formShortcode:i,showMap:m,mapEmbedUrl:p,backgroundColor:d,textColor:_,gradient:h}=a,x=(0,c.useBlockProps)({className:`wp-block-expressanalytics-contact has-${d}-background-color has-${_}-color has-text-color has-background`,style:{backgroundColor:d,color:_,backgroundImage:h}}),E=(e,a)=>{l({contactInfo:{...r,[e]:a}})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(c.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,t.__)("Contact Settings","expressanalytics")},(0,e.createElement)(s.TextControl,{label:(0,t.__)("Contact Form 7 Shortcode","expressanalytics"),value:i,onChange:e=>l({formShortcode:e}),help:(0,t.__)("Enter the Contact Form 7 shortcode to display the form.","expressanalytics")}),(0,e.createElement)(s.ToggleControl,{label:(0,t.__)("Show Map","expressanalytics"),checked:m,onChange:e=>l({showMap:e})}),m&&(0,e.createElement)(s.TextControl,{label:(0,t.__)("Google Maps Embed URL","expressanalytics"),value:p,onChange:e=>l({mapEmbedUrl:e}),help:(0,t.__)("Enter the Google Maps embed URL for your location.","expressanalytics")}))),(0,e.createElement)("div",{...x},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__content"},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__header"},(0,e.createElement)(c.RichText,{tagName:"h2",className:"wp-block-expressanalytics-contact__heading",value:n,onChange:e=>l({heading:e}),placeholder:(0,t.__)("Add heading...","expressanalytics")}),(0,e.createElement)(c.RichText,{tagName:"p",className:"wp-block-expressanalytics-contact__description",value:o,onChange:e=>l({description:e}),placeholder:(0,t.__)("Add description...","expressanalytics")})),(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__grid"},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__info"},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__info-item"},(0,e.createElement)("i",{className:"fas fa-map-marker-alt"}),(0,e.createElement)(c.RichText,{tagName:"div",className:"wp-block-expressanalytics-contact__address",value:r.address,onChange:e=>E("address",e),placeholder:(0,t.__)("Enter address...","expressanalytics")})),(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__info-item"},(0,e.createElement)("i",{className:"fas fa-phone"}),(0,e.createElement)(c.RichText,{tagName:"div",className:"wp-block-expressanalytics-contact__phone",value:r.phone,onChange:e=>E("phone",e),placeholder:(0,t.__)("Enter phone number...","expressanalytics")})),(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__info-item"},(0,e.createElement)("i",{className:"fas fa-envelope"}),(0,e.createElement)(c.RichText,{tagName:"div",className:"wp-block-expressanalytics-contact__email",value:r.email,onChange:e=>E("email",e),placeholder:(0,t.__)("Enter email address...","expressanalytics")}))),(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__form"},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__form-placeholder"},i||(0,t.__)("Enter a Contact Form 7 shortcode in the block settings.","expressanalytics")))),m&&p&&(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__map"},(0,e.createElement)("iframe",{src:p,width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})))))},save:({attributes:a})=>{const{heading:t,description:s,contactInfo:l,formShortcode:n,showMap:o,mapEmbedUrl:r,backgroundColor:i,textColor:m,gradient:p}=a,d=c.useBlockProps.save({className:`wp-block-expressanalytics-contact has-${i}-background-color has-${m}-color has-text-color has-background`,style:{backgroundColor:i,color:m,backgroundImage:p}});return(0,e.createElement)("div",{...d},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__content"},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__header"},(0,e.createElement)(c.RichText.Content,{tagName:"h2",className:"wp-block-expressanalytics-contact__heading",value:t}),(0,e.createElement)(c.RichText.Content,{tagName:"p",className:"wp-block-expressanalytics-contact__description",value:s})),(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__grid"},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__info"},(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__info-item"},(0,e.createElement)("i",{className:"fas fa-map-marker-alt"}),(0,e.createElement)(c.RichText.Content,{tagName:"div",className:"wp-block-expressanalytics-contact__address",value:l.address})),(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__info-item"},(0,e.createElement)("i",{className:"fas fa-phone"}),(0,e.createElement)("a",{href:`tel:${l.phone.replace(/\s+/g,"")}`,className:"wp-block-expressanalytics-contact__phone"},(0,e.createElement)(c.RichText.Content,{value:l.phone}))),(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__info-item"},(0,e.createElement)("i",{className:"fas fa-envelope"}),(0,e.createElement)("a",{href:`mailto:${l.email}`,className:"wp-block-expressanalytics-contact__email"},(0,e.createElement)(c.RichText.Content,{value:l.email})))),(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__form"},n&&(0,e.createElement)("div",{dangerouslySetInnerHTML:{__html:n}}))),o&&r&&(0,e.createElement)("div",{className:"wp-block-expressanalytics-contact__map"},(0,e.createElement)("iframe",{src:r,width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"}))))}})})();