(()=>{"use strict";const e=window.React,t=window.wp.i18n,a=window.wp.blocks,i=window.wp.blockEditor,l=window.wp.components;(0,a.registerBlockType)("express-analytics/repeater-ea",{title:(0,t.__)("Repeater Block"),icon:"layout",category:"express-analytics",keywords:[(0,t.__)("Service"),(0,t.__)("Solution"),(0,t.__)("Repeater")],attributes:{info:{type:"array",default:[],selector:".info-wrap"}},edit:({attributes:t,setAttributes:a})=>{const{items:n=[]}=t,r=(0,i.useBlockProps)(),o=(e,t)=>{const i=[...n];i[t]=e,a({items:i})};return(0,e.createElement)("div",{...r},n.map(((t,r)=>(0,e.createElement)("div",{key:r,className:"service-solution-item-editor"},(0,e.createElement)(l.Button,{className:"remove-item",onClick:()=>(e=>{const t=n.filter(((t,a)=>a!==e));a({items:t})})(r)},"Ã—"),(0,e.createElement)(i.RichText,{tagName:"h4",className:"item-heading",placeholder:"Enter Heading",value:t.heading,onChange:e=>o({...t,heading:e},r)}),(0,e.createElement)(i.RichText,{tagName:"p",className:"item-description",placeholder:"Enter Description",value:t.description,onChange:e=>o({...t,description:e},r)}),(0,e.createElement)(i.MediaUpload,{onSelect:e=>o({...t,imageUrl:e.url,imageAlt:e.alt||"",imageId:e.id},r),allowedTypes:["image"],value:t.imageId,render:({open:a})=>(0,e.createElement)(l.Button,{onClick:a,className:"image-upload-button"},t.imageUrl?(0,e.createElement)("img",{src:t.imageUrl,alt:t.imageAlt,style:{maxWidth:"100%"}}):"Upload Image")}),(0,e.createElement)(l.TextControl,{label:"URL",value:t.url,onChange:e=>o({...t,url:e},r)}),(0,e.createElement)(l.SelectControl,{label:"Image Position",value:t.imagePosition,options:[{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:e=>o({...t,imagePosition:e},r)})))),(0,e.createElement)(l.Button,{onClick:()=>{const e={index:n.length,heading:"",description:"",imageUrl:"",imageAlt:"",imageId:0,url:"",imagePosition:"left"};a({items:[...n,e]})}},"Add Service/Solution"))},save:({attributes:t})=>{const{items:a=[]}=t;return(0,e.createElement)("div",null,a.map(((t,a)=>(0,e.createElement)("div",{key:a,className:`service-item two-column image-${t.imagePosition}`},(0,e.createElement)("div",{className:"service-image-column"},t.imageUrl&&(0,e.createElement)("img",{src:t.imageUrl,alt:t.imageAlt||""})),(0,e.createElement)("div",{className:"service-content-column"},t.heading&&(0,e.createElement)(i.RichText.Content,{tagName:"h3",value:t.heading}),t.description&&(0,e.createElement)(i.RichText.Content,{tagName:"p",value:t.description}),t.url&&(0,e.createElement)("a",{href:t.url,className:"service-button"},"Learn More"))))))}})})();